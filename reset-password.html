<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ”‘</text></svg>"
    />
    <title>Recuperar Senha - OutLet MakeUp</title>
    <link rel="stylesheet" href="reset-password.css" />
    <!-- EmailJS para envio de emails -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  </head>
  <body>
    <div class="reset-container">
      <div class="reset-box">
        <!-- CABEÃ‡ALHO -->
        <div class="reset-header">
          <div class="icon-lock">ğŸ”‘</div>
          <h1>Recuperar Senha</h1>
          <p class="subtitle">Painel Administrativo - OutLet MakeUp</p>
        </div>

        <!-- ETAPA 1: SOLICITAR CÃ“DIGO -->
        <div id="step-1" class="step active">
          <div class="step-info">
            <h2>ğŸ“§ Passo 1: Solicitar CÃ³digo</h2>
            <p>
              Digite o email cadastrado para receber o cÃ³digo de recuperaÃ§Ã£o.
            </p>
          </div>

          <form id="request-code-form">
            <div class="form-group">
              <label for="email">Email cadastrado:</label>
              <input
                type="email"
                id="email"
                placeholder="seu-email@exemplo.com"
                required
                autocomplete="email"
              />
            </div>

            <button type="submit" class="btn-primary">ğŸ“¨ Enviar CÃ³digo</button>

            <div id="email-error" class="error-message" style="display: none">
              âŒ Email nÃ£o cadastrado!
            </div>

            <div
              id="email-success"
              class="success-message"
              style="display: none"
            >
              âœ… CÃ³digo enviado! Verifique seu email.
            </div>
          </form>
        </div>

        <!-- ETAPA 2: VERIFICAR CÃ“DIGO E REDEFINIR -->
        <div id="step-2" class="step">
          <div class="step-info">
            <h2>ğŸ” Passo 2: Redefinir Senha</h2>
            <p>Digite o cÃ³digo recebido por email e sua nova senha.</p>
          </div>

          <form id="reset-password-form">
            <div class="form-group">
              <label for="code">CÃ³digo de RecuperaÃ§Ã£o:</label>
              <input
                type="text"
                id="code"
                placeholder="Digite o cÃ³digo de 6 dÃ­gitos"
                maxlength="6"
                required
                pattern="[0-9]{6}"
                autocomplete="off"
              />
              <small class="field-hint"
                >CÃ³digo enviado para <span id="email-display"></span
              ></small>
            </div>

            <div class="form-group">
              <label for="new-password">Nova Senha:</label>
              <input
                type="password"
                id="new-password"
                placeholder="MÃ­nimo 6 caracteres"
                minlength="6"
                required
                autocomplete="new-password"
              />
              <div class="password-strength" id="password-strength"></div>
            </div>

            <div class="form-group">
              <label for="confirm-password">Confirmar Nova Senha:</label>
              <input
                type="password"
                id="confirm-password"
                placeholder="Digite a senha novamente"
                minlength="6"
                required
                autocomplete="new-password"
              />
            </div>

            <button type="submit" class="btn-primary">
              ğŸ” Redefinir Senha
            </button>

            <div
              id="reset-error"
              class="error-message"
              style="display: none"
            ></div>

            <div
              id="reset-success"
              class="success-message"
              style="display: none"
            >
              âœ… Senha redefinida com sucesso!
            </div>
          </form>

          <button id="resend-code" class="btn-link">ğŸ”„ Reenviar CÃ³digo</button>
        </div>

        <!-- RODAPÃ‰ -->
        <div class="reset-footer">
          <a href="admin.html" class="btn-back">â† Voltar para Login</a>

          <div class="dev-mode" id="dev-mode" style="display: none">
            <strong>ğŸ”§ Modo Desenvolvimento</strong>
            <p>CÃ³digo: <span id="dev-code"></span></p>
            <small>Configure EmailJS para envio real</small>
          </div>
        </div>
      </div>

      <!-- PARTÃCULAS DECORATIVAS -->
      <div class="particles">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
      </div>
    </div>

    <!-- Sistema de SeguranÃ§a -->
    <script src="admin-security.js"></script>

    <!-- Script de RecuperaÃ§Ã£o -->
    <script src="reset-password.js"></script>
  </body>
</html>
